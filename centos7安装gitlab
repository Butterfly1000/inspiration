1.配置yum源
vim /etc/yum.repos.d/gitlab-ce.repo

复制以下内容
[gitlab-ce]
name=gitlab-ce
#baseurl=http://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/
baseurl=https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el$releasever/
Repo_gpgcheck=0
Enabled=1
Gpgkey=https://packages.gitlab.com/gpg.key  

2.更新本地yum缓存
sudo yum makecache

3.安装GitLab社区版
 yum install -y gitlab-ce --nogpgcheck
 或
 sudo EXTERNAL_URL="https://gitlab.example.com" yum install -y gitlab-ce

这里EXTERNAL_URL="http://gitlab.example.com"
如果不需要https方式的话可以只用http
服务器地址可以设置成本机IP
端口默认是80，可以设置任意未占用的其他端口
例如 EXTERNAL_URL="http://192.168.1.10:8899"。

报错：Public key for gitlab-ce-12.0.2-ce.0.el7.x86_64.rpm is not installed
原因：可能是由于该镜像不是从官方下载导致的，可以在安装命令后面加--nogpgcheck
解决方案：--nogpgcheck   禁掉GPG验证检查
sudo EXTERNAL_URL="http://192.168.1.10:8899" yum install -y gitlab-ce --nogpgcheck
成功！

4.GitLab常用命令
sudo gitlab-ctl start    # 启动所有 gitlab 组件；
sudo gitlab-ctl stop        # 停止所有 gitlab 组件；
sudo gitlab-ctl restart        # 重启所有 gitlab 组件；
sudo gitlab-ctl status        # 查看服务状态；
sudo gitlab-ctl reconfigure        # 启动服务；
sudo vim /etc/gitlab/gitlab.rb        # 修改默认的配置文件；
gitlab-rake gitlab:check SANITIZE=true --trace    # 检查gitlab；
sudo gitlab-ctl tail        # 查看日志；

5.使用


原文/参考链接：
https://www.jianshu.com/p/5b0da0bfe031
https://blog.csdn.net/justlpf/article/details/80681332




